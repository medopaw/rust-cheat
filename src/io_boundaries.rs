/*

# 08. I/O è¾¹ç•Œå¤„ç† - AI Coding å¿«é€Ÿç†è§£æŒ‡å—

---

## ğŸ¯ ä¸šåŠ¡åœºæ™¯å¯¹ç…§è¡¨

| ç±»å‹ | ç”¨é€” | å…¸å‹ç¤ºä¾‹ |
|------|------|----------|
| `std::fs` | åŒæ­¥æ–‡ä»¶æ“ä½œ | CLI å·¥å…·ã€ç®€å•é…ç½®è¯»å– |
| `tokio::fs` | å¼‚æ­¥æ–‡ä»¶æ“ä½œ | Web æœåŠ¡ã€é«˜å¹¶å‘åº”ç”¨ |
| `reqwest` | HTTP å®¢æˆ·ç«¯ | API è°ƒç”¨ã€ç½‘ç»œè¯·æ±‚ |
| `timeout` | è¶…æ—¶æ§åˆ¶ | é˜²æ­¢ç½‘ç»œè¯·æ±‚æ— é™ç­‰å¾… |

## ğŸ” 30ç§’è¯†åˆ«è¦ç‚¹

**å¿«é€Ÿåˆ¤æ–­æ–¹æ³•ï¼š**

- ğŸ‘€ **çœ‹æ¨¡å—å¯¼å…¥**: `std::fs` (åŒæ­¥) vs `tokio::fs` (å¼‚æ­¥)
- ğŸ”§ **çœ‹å‡½æ•°ç­¾å**: è¿”å› `Result` è¿˜æ˜¯ `impl Future`  
- âš ï¸ **çœ‹è°ƒç”¨æ–¹å¼**: ç›´æ¥è°ƒç”¨è¿˜æ˜¯éœ€è¦ `.await`

## âš ï¸ AI å¸¸è§é—®é¢˜è­¦å‘Š

> **å±é™©ä¿¡å·** ğŸš¨

- ğŸ”´ **æ··ç”¨ I/O** åœ¨ async fn ä¸­ä½¿ç”¨é˜»å¡çš„åŒæ­¥ I/Oï¼ˆå¦‚ std::fsï¼‰
- ğŸ”´ **æ— è¶…æ—¶æ§åˆ¶** ç½‘ç»œè¯·æ±‚å¯èƒ½æ— é™ç­‰å¾…  
- ğŸ”´ **ç¼ºå°‘é‡è¯•** ä¸´æ—¶ç½‘ç»œé—®é¢˜å¯¼è‡´å¤±è´¥
- ğŸ”´ **å†…å­˜æ³„æ¼** ä¸å¤„ç†å¤§æ–‡ä»¶ï¼Œä¸€æ¬¡æ€§è¯»å–åˆ°å†…å­˜

## âœ… Code Review æ£€æŸ¥æ¸…å•

â˜ åŒä¸€å±‚æ˜¯å¦é¿å…æ··ç”¨åŒæ­¥/å¼‚æ­¥ I/Oï¼Ÿ  
â˜ ç½‘ç»œè¯·æ±‚æ˜¯å¦æœ‰åˆç†çš„è¶…æ—¶è®¾ç½®ï¼Ÿ  
â˜ æ˜¯å¦å®ç°äº†é€‚å½“çš„é‡è¯•ç­–ç•¥ï¼Ÿ  
â˜ é”™è¯¯å¤„ç†æ˜¯å¦å……åˆ†ï¼ˆç½‘ç»œã€æ–‡ä»¶ç³»ç»Ÿé”™è¯¯ï¼‰ï¼Ÿ  
â˜ å¤§æ–‡ä»¶å¤„ç†æ˜¯å¦è€ƒè™‘äº†å†…å­˜ä½¿ç”¨ï¼Ÿ

## ğŸ“– æ¨èé˜…è¯»é¡ºåº

**Step 1: I/O ç±»å‹è¯†åˆ«**  
å…ˆçœ‹å¯¼å…¥å’Œå‡½æ•°ç­¾åï¼Œç¡®å®šåŒæ­¥è¿˜æ˜¯å¼‚æ­¥

**Step 2: é”™è¯¯å¤„ç†æ£€æŸ¥**  
å†çœ‹è¶…æ—¶ã€é‡è¯•å’Œé”™è¯¯å¤„ç†æœºåˆ¶

**Step 3: æ€§èƒ½ä¼˜åŒ–éªŒè¯**  
æœ€åçœ‹å†…å­˜ä½¿ç”¨å’Œå¹¶å‘æ§åˆ¶

---

> ğŸ’¡ **è®°ä½**: I/O æ˜¯æ€§èƒ½ç“¶é¢ˆï¼Œé€‰å¯¹å·¥å…·å’Œæ¨¡å¼å¾ˆå…³é”®ï¼

ğŸ“– é˜…è¯»é¡ºåºï¼š
1. å…ˆçœ‹ä¸Šä¸‹æ–‡ç¯å¢ƒï¼ˆasync runtime è¿˜æ˜¯åŒæ­¥ç¨‹åºï¼‰
2. å†çœ‹ I/O æ“ä½œç±»å‹ï¼ˆæ–‡ä»¶ã€ç½‘ç»œã€æ•°æ®åº“ï¼‰
3. æœ€åçœ‹é”™è¯¯å¤„ç†å’Œèµ„æºç®¡ç†ï¼ˆè¶…æ—¶ã€æ¸…ç†ï¼‰

è®¾è®¡å†³ç­–æŒ‡å—ï¼š
- ç®€å•è„šæœ¬ã€CLI å·¥å…· â†’ åŒæ­¥ I/O (std::fs, std::net)
- Web æœåŠ¡ã€é«˜å¹¶å‘ â†’ å¼‚æ­¥ I/O (tokio::fs, reqwest)
- æ··åˆåœºæ™¯ â†’ ä¿æŒä¸€è‡´æ€§ï¼Œé¿å… block_on åµŒå¥—

æ ¸å¿ƒ I/O æ¨¡å¼ï¼š

// åŒæ­¥ï¼šstd::fs::read_to_string / write
// å¼‚æ­¥ï¼štokio::fs / reqwest
// Review è¦ç‚¹ï¼šåŒä¸€å±‚é¿å…æ··ç”¨åŒæ­¥/å¼‚æ­¥ I/Oï¼›æ˜ç¡®è¶…æ—¶/é‡è¯•ç­–ç•¥ã€‚

```rust
// åŒæ­¥æ–‡ä»¶è¯»å–ç¤ºä¾‹
use std::fs;
fn sync_read_example() -> std::io::Result<String> {
    let content = fs::read_to_string("example.txt")?;
    Ok(content)
}

// å¼‚æ­¥æ–‡ä»¶è¯»å–ç¤ºä¾‹
use tokio::fs;
async fn async_read_example() -> tokio::io::Result<String> {
    let content = fs::read_to_string("example.txt").await?;
    Ok(content)
}

// HTTP è¯·æ±‚ç¤ºä¾‹
use reqwest;
async fn http_example() -> Result<String, reqwest::Error> {
    let response = reqwest::get("https://api.example.com/data").await?;
    let text = response.text().await?;
    Ok(text)
}
```

*/

pub fn io_concepts() {
    println!("I/O è¾¹ç•Œæ¦‚å¿µï¼š");
    println!("åŒæ­¥ I/Oï¼š");
    println!("  - std::fs::read_to_string / write");
    println!("  - é˜»å¡å½“å‰çº¿ç¨‹ç›´åˆ°æ“ä½œå®Œæˆ");
    println!("  - é€‚åˆç®€å•è„šæœ¬å’Œå°æ–‡ä»¶");
    
    println!("å¼‚æ­¥ I/Oï¼š");
    println!("  - tokio::fs æ–‡ä»¶æ“ä½œ");
    println!("  - reqwest HTTP è¯·æ±‚");
    println!("  - éé˜»å¡ï¼Œå¯å¹¶å‘å¤„ç†");
    println!("  - é€‚åˆé«˜å¹¶å‘æœåŠ¡");
}

pub fn io_best_practices() {
    println!("I/O æœ€ä½³å®è·µï¼š");
    println!("1. åŒä¸€å±‚é¿å…æ··ç”¨åŒæ­¥/å¼‚æ­¥ I/O");
    println!("2. æ˜ç¡®è¶…æ—¶ç­–ç•¥");
    println!("3. å®ç°é‡è¯•æœºåˆ¶");
    println!("4. å¤„ç†é”™è¯¯å’Œèµ„æºæ¸…ç†");
    println!("5. è€ƒè™‘ç¼“å†²å’Œæ‰¹å¤„ç†");
}

pub fn sync_file_example() {
    println!("åŒæ­¥æ–‡ä»¶æ“ä½œç¤ºä¾‹ï¼š");
    println!("ä½¿ç”¨ std::fs::read_to_string è¯»å–æ–‡ä»¶");
}

pub fn async_file_example() {
    println!("å¼‚æ­¥æ–‡ä»¶æ“ä½œç¤ºä¾‹ï¼š");
    println!("ä½¿ç”¨ tokio::fs::read_to_string å¼‚æ­¥è¯»å–æ–‡ä»¶");
}